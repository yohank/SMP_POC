/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2012 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.core.Configuration");jQuery.sap.require("sap.ui.base.Object");(function(){sap.ui.base.Object.extend("sap.ui.core.Configuration",{constructor:function(){function d(){var m;if(jQuery.os.android){m=navigator.userAgent.match(/\s([a-z]{2}-[a-z]{2})[;)]/i);if(m){return m[1]}}return navigator.language||navigator.userLanguage||navigator.browserLanguage}var e={"theme":{type:"string",defaultValue:"base"},"language":{type:"string",defaultValue:d()},"formatLocale":{type:"string",defaultValue:null},"accessibility":{type:"boolean",defaultValue:true},"animation":{type:"boolean",defaultValue:true},"rtl":{type:"boolean",defaultValue:false},"debug":{type:"boolean",defaultValue:false},"inspect":{type:"boolean",defaultValue:false},"originInfo":{type:"boolean",defaultValue:false},"noConflict":{type:"boolean",defaultValue:false,noUrl:true},"noDuplicateIds":{type:"boolean",defaultValue:true},"trace":{type:"boolean",defaultValue:false,noUrl:true},"modules":{type:"string[]",defaultValue:[],noUrl:true},"areas":{type:"string[]",defaultValue:null,noUrl:true},"onInit":{type:"code",defaultValue:undefined,noUrl:true},"uidPrefix":{type:"string",defaultValue:"__",noUrl:true},"ignoreUrlParams":{type:"boolean",defaultValue:false,noUrl:true},"weinreServer":{type:"string",defaultValue:"",noUrl:true},"weinreId":{type:"string",defaultValue:""},"xx-loadAllMode":{type:"boolean",defaultValue:false,noUrl:true},"preload":{type:"string",defaultValue:'auto'},"xx-test-mobile":{type:"boolean",defaultValue:false},"appCacheBuster":{type:"boolean",defaultValue:false}};this.oFormatSettings=new sap.ui.core.Configuration.FormatSettings(this);var f=this;function s(N,v){if(typeof v==="undefined"||v===null){return}switch(e[N].type){case"boolean":if(typeof v==="string"){if(e[N].defaultValue){f[N]=v.toLowerCase()!="false"}else{f[N]=v.toLowerCase()==="true"||v.toLowerCase()==="x"}}else{f[N]=!!v}break;case"string":f[N]=""+v;break;case"code":f[N]=typeof v==="function"?v:""+v;break;case"string[]":if(jQuery.isArray(v)){f[N]=v}else if(typeof v==="string"){f[N]=jQuery.map(v.split(/[ ,;]/),function($){return jQuery.trim($)})}else{throw new Error("unsupported value")}break;default:throw new Error("illegal state")}}for(var n in e){f[n]=e[n].defaultValue}var C=window["sap-ui-config"]||{};C.oninit=C.oninit||C["evt-oninit"];for(var n in e){s(n,C[n.toLowerCase()])}if(C.libs){f.modules=jQuery.map(C.libs.split(","),function($){return jQuery.trim($)+".library"}).concat(f.modules)}if(!f.ignoreUrlParams){var u="sap-ui-";var U=jQuery.sap.getUriParameters();if(U.mParams['sap-locale']){var v=U.get('sap-locale');if(v===""){f['language']=e['language'].defaultValue}else{s('language',v)}}if(U.mParams['sap-accessibility']){var v=U.get('sap-accessibility');if(v==="X"||v==="x"){s('accessibility',true)}else{s('accessibility',false)}}if(U.mParams['sap-rtl']){var v=U.get('sap-rtl');if(v==="X"||v==="x"){s('rtl',true)}else{s('rtl',false)}}if(U.mParams['sap-theme']){var v=U.get('sap-theme');if(v===""){f['theme']=e['theme'].defaultValue}else{var i=v.indexOf("@");if(i>=0){jQuery.sap.log.warning("@ not allowed in theme name (theme-root not supported!)");if(i==0){f['theme']=e['theme'].defaultValue}else{s('theme',v.slice(0,i))}}else{s('theme',v)}}}for(var n in e){if(e[n].noUrl){continue}var v=U.get(u+n);if(v===""){f[n]=e[n].defaultValue}else{s(n,v)}}}for(var n in e){if(f[n]!==e[n].defaultValue){jQuery.sap.log.info("  "+n+" = "+f[n])}}},getTheme:function(){return this.theme},_setTheme:function(t){this.theme=t;return this},getLanguage:function(){return this.language},getLocale:function(){return new sap.ui.core.Locale(this.language)},getFormatLocale:function(){return this.formatLocale||this.language},getAccessibility:function(){return this.accessibility},getAnimation:function(){return this.animation},getRTL:function(){return this.rtl},getDebug:function(){return this.debug},getInspect:function(){return this.inspect},getOriginInfo:function(){return this.originInfo},getNoDuplicateIds:function(){return this.noDuplicateIds},getTrace:function(){return this.trace},getUIDPrefix:function(){return this.uidPrefix},getWeinreServer:function(){var w=this.weinreServer;if(!w){w=window.location.protocol+"//"+window.location.hostname+":";w+=(parseInt(window.location.port,10)||8080)+1}return w},getWeinreId:function(){return this.weinreId},getAppCacheBuster:function(){return this.appCacheBuster},getFormatSettings:function(){return this.oFormatSettings}});var M={"":{pattern:null},"1":{pattern:"dd.MM.yyyy"},"2":{pattern:"MM/dd/yyyy"},"3":{pattern:"MM-dd-yyyy"},"4":{pattern:"yyyy.MM.dd"},"5":{pattern:"yyyy/MM/dd"},"6":{pattern:"yyyy-MM-dd"}};var a={"":{pattern:null,dayPeriods:null},"0":{pattern:"HH:mm:ss",dayPeriods:null},"1":{pattern:"hh:mm:ss a",dayPeriods:["AM","PM"]},"2":{pattern:"hh:mm:ss a",dayPeriods:["am","pm"]},"3":{pattern:"KK:mm:ss a",dayPeriods:["AM","PM"]},"4":{pattern:"KK:mm:ss a",dayPeriods:["am","pm"]}};var b={"":{groupingSeparator:null,decimalSeparator:null}," ":{groupingSeparator:".",decimalSeparator:","},"X":{groupingSeparator:",",decimalSeparator:"."},"Y":{groupingSeparator:" ",decimalSeparator:","}};function c(C,m){if(!C){throw new Error(m)}}sap.ui.base.Object.extend("sap.ui.core.Configuration.FormatSettings",{constructor:function(C){this.oConfiguration=C;this.mSettings={};this.sLegacyDateFormat=undefined;this.sLegacyTimeFormat=undefined;this.sLegacyNumberFormatSymbolSet=undefined},getFormatLocale:function(){function f(t){var l=t.oConfiguration.language;if(!jQuery.isEmptyObject(t.mSettings)){if(l.indexOf("-x-")<0){l=l+"-x-sapufmt"}else if(l.indexOf("-sapufmt")<=l.indexOf("-x-")){l=l+"-sapufmt"}}return l}return new sap.ui.core.Locale(this.oConfiguration.formatLocale||f(this))},_set:function(k,v){if(v!=null){this.mSettings[k]=v}else{delete this.mSettings[k]}},getDatePattern:function(s){return this.mSettings["dateFormat-"+s]},setDatePattern:function(s,p){c(s=="short"||s=="medium"||s=="long"||s=="full","sStyle must be short, medium, long or full");this._set("dateFormat-"+s,p);return this},getTimePattern:function(s){return this.mSettings["timeFormat-"+s]},setTimePattern:function(s,p){c(s=="short"||s=="medium"||s=="long"||s=="full","sStyle must be short, medium, long or full");this._set("timeFormat-"+s,p);return this},getNumberSymbol:function(t){return this.mSettings["symbols-latn-"+t]},setNumberSymbol:function(t,s){c(t=="decimal"||t=="group"||t=="plusSign"||t=="minusSign","sType must be decimal, group, plusSign or minusSign");this._set("symbols-latn-"+t,s);return this},_setDayPeriods:function(w,t){this._set("dayPeriods-format-"+w,t);return this},getLegacyDateFormat:function(){return this.sLegacyDateFormat||undefined},setLegacyDateFormat:function(f){c(!f||M.hasOwnProperty(f),"sFormatId must be one of ['1','2','3','4','5','6'] or empty");this.sLegacyDateFormat=f=f||"";this.setDatePattern("short",M[f].pattern);this.setDatePattern("medium",M[f].pattern);return this},getLegacyTimeFormat:function(){return this.sLegacyTimeFormat||undefined},setLegacyTimeFormat:function(f){c(!f||a.hasOwnProperty(f),"sFormatId must be one of ['0','1','2','3','4'] or empty");this.sLegacyTimeFormat=f=f||"";this.setTimePattern("short",a[f].pattern);this.setTimePattern("medium",a[f].pattern);this._setDayPeriods("abbreviated",a[f].dayPeriods);return this},getLegacyNumberFormat:function(){return this.sLegacyNumberFormat||undefined},setLegacyNumberFormat:function(f){f=f?f.toUpperCase():"";c(!f||b.hasOwnProperty(f),"sFormatId must be one of [' ','X','Y'] or empty");this.sLegacyNumberFormat=f;this.setNumberSymbol("group",b[f].groupingSeparator);this.setNumberSymbol("decimal",b[f].decimalSeparator)},getCustomLocaleData:function(){return this.mSettings}})}());
