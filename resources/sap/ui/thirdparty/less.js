// Copyright (c) 2009-2011, Alexis Sellier
// Licensed under the Apache 2.0 License.
(function(f,u){function q(a){return f.less[a.split('/')[1]]};if(typeof define==="function"&&define.amd){define("less",[],function(){return x})}
// -- kriskowal Kris Kowal Copyright (C) 2009-2010 MIT License
if(!Array.isArray){Array.isArray=function(o){return Object.prototype.toString.call(o)==="[object Array]"||(o instanceof Array)}}if(!Array.prototype.forEach){Array.prototype.forEach=function(b,t){var l=this.length>>>0;for(var i=0;i<l;i++){if(i in this){b.call(t,this[i],i,this)}}}}if(!Array.prototype.map){Array.prototype.map=function(a){var l=this.length>>>0;var r=new Array(l);var t=arguments[1];for(var i=0;i<l;i++){if(i in this){r[i]=a.call(t,this[i],i,this)}}return r}}if(!Array.prototype.filter){Array.prototype.filter=function(b){var v=[];var t=arguments[1];for(var i=0;i<this.length;i++){if(b.call(t,this[i])){v.push(this[i])}}return v}}if(!Array.prototype.reduce){Array.prototype.reduce=function(a){var l=this.length>>>0;var i=0;if(l===0&&arguments.length===1)throw new TypeError();if(arguments.length>=2){var r=arguments[1]}else{do{if(i in this){r=this[i++];break}if(++i>=l)throw new TypeError()}while(true)}for(;i<l;i++){if(i in this){r=a.call(null,r,this[i],i,this)}}return r}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(v){var l=this.length;var i=arguments[1]||0;if(!l)return-1;if(i>=l)return-1;if(i<0)i+=l;for(;i<l;i++){if(!Object.prototype.hasOwnProperty.call(this,i)){continue}if(v===this[i])return i}return-1}}if(!Object.keys){Object.keys=function(o){var k=[];for(var n in o){if(Object.prototype.hasOwnProperty.call(o,n)){k.push(n)}}return k}}if(!String.prototype.trim){String.prototype.trim=function(){return String(this).replace(/^\s\s*/,'').replace(/\s\s*$/,'')}}var x,y;if(typeof environment==="object"&&({}).toString.call(environment)==="[object Environment]"){if(typeof(f)==='undefined'){x={}}else{x=f.less={}}y=x.tree={};x.mode='rhino'}else if(typeof(f)==='undefined'){x=exports,y=q('./tree');x.mode='node'}else{if(typeof(f.less)==='undefined'){f.less={}}x=f.less,y=f.less.tree={};x.mode='browser'}x.Parser=function Parser(g){var h,i,j,l,r,w,N,O,P;var Q=this;var R=function(){};var S=this.imports={paths:g&&g.paths||[],queue:[],files:{},contents:{},mime:g&&g.mime,error:null,push:function(p,c){var Q=this;this.queue.push(p);x.Parser.importer(p,this.paths,function(e,a,b){Q.queue.splice(Q.queue.indexOf(p),1);Q.files[p]=a;Q.contents[p]=b;if(e&&!Q.error){Q.error=e}c(e,a);if(Q.queue.length===0){R()}},g)}};function T(){l=N[j],r=i,O=i}function U(){N[j]=l,i=r,O=i}function V(){if(i>O){N[j]=N[j].slice(i-O);O=i}}function $(t){var m,a,b,c,d,e,k,n;if(t instanceof Function){return t.call(P.parsers)}else if(typeof(t)==='string'){m=h.charAt(i)===t?t:null;b=1;V()}else{V();if(m=t.exec(N[j])){b=m[0].length}else{return null}}if(m){n=i+=b;e=i+N[j].length-b;while(i<e){c=h.charCodeAt(i);if(!(c===32||c===10||c===9)){break}i++}N[j]=N[j].slice(b+(i-n));O=i;if(N[j].length===0&&j<N.length-1){j++}if(typeof(m)==='string'){return m}else{return m.length===1?m[0]:m}}}function W(a,m){var b=$(a);if(!b){M(m||(typeof(a)==='string'?"expected '"+a+"' got '"+h.charAt(i)+"'":"unexpected token"))}else{return b}}function M(m,t){throw{index:i,type:t||'Syntax',message:m}}function X(t){if(typeof(t)==='string'){return h.charAt(i)===t}else{if(t.test(N[j])){return true}else{return false}}}function Y(p){if(x.mode==='node'){return q('path').basename(p)}else{return p.match(/[^\/]+$/)[0]}}function Z(e,g){if(e.filename&&g.filename&&(e.filename!==g.filename)){return P.imports.contents[Y(e.filename)]}else{return h}}function a1(a,h){for(var n=a,c=-1;n>=0&&h.charAt(n)!=='\n';n--){c++}return{line:typeof(a)==='number'?(h.slice(0,a).match(/\n/g)||"").length:null,column:c}}function b1(e,g){var h=Z(e,g),a=a1(e.index,h),b=a.line,c=a.column,d=h.split('\n');this.type=e.type||'Syntax';this.message=e.message;this.filename=e.filename||g.filename;this.index=e.index;this.line=typeof(b)==='number'?b+1:null;this.callLine=e.call&&(a1(e.call,h).line+1);this.callExtract=d[a1(e.call,h).line];this.stack=e.stack;this.column=c;this.extract=[d[b-1],d[b],d[b+1]]}this.env=g=g||{};this.optimization=('optimization'in this.env)?this.env.optimization:1;this.env.filename=this.env.filename||null;return P={imports:S,parse:function(s,a){var b,d,m,o,p,t,v=[],c,M=null;i=j=O=w=0;h=s.replace(/\r\n/g,'\n');N=(function(N){var j=0,k=/[^"'`\{\}\/\(\)\\]+/g,d1=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,e1=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`\\\r\n]|\\.)*)`/g,f1=0,g1,h1=N[0],i1;for(var i=0,c,cc;i<h.length;i++){k.lastIndex=i;if(g1=k.exec(h)){if(g1.index===i){i+=g1[0].length;h1.push(g1[0])}}c=h.charAt(i);d1.lastIndex=e1.lastIndex=i;if(g1=e1.exec(h)){if(g1.index===i){i+=g1[0].length;h1.push(g1[0]);c=h.charAt(i)}}if(!i1&&c==='/'){cc=h.charAt(i+1);if(cc==='/'||cc==='*'){if(g1=d1.exec(h)){if(g1.index===i){i+=g1[0].length;h1.push(g1[0]);c=h.charAt(i)}}}}switch(c){case'{':if(!i1){f1++;h1.push(c);break}case'}':if(!i1){f1--;h1.push(c);N[++j]=h1=[];break}case'(':if(!i1){i1=true;h1.push(c);break}case')':if(i1){i1=false;h1.push(c);break}default:h1.push(c)}}if(f1>0){M=new(b1)({index:i,type:'Parse',message:"missing closing `}`",filename:g.filename},g)}return N.map(function(c){return c.join('')});})([[]]);if(M){return a(M)}try{b=new(y.Ruleset)([],$(this.parsers.primary));b.root=true}catch(e){return a(new(b1)(e,g))}b.toCSS=(function(d1){var p,t,c1;return function(e1,f1){var g1=[],h1;e1=e1||{};if(typeof(f1)==='object'&&!Array.isArray(f1)){f1=Object.keys(f1).map(function(k){var j1=f1[k];if(!(j1 instanceof y.Value)){if(!(j1 instanceof y.Expression)){j1=new(y.Expression)([j1])}j1=new(y.Value)([j1])}return new(y.Rule)('@'+k,j1,false,0)});g1=[new(y.Ruleset)(null,f1)]}try{var i1=d1.call(this,{frames:g1}).toCSS([],{compress:e1.compress||false})}catch(e){throw new(b1)(e,g)}if((h1=P.imports.error)){if(h1 instanceof b1)throw h1;else throw new(b1)(h1,g)}if(e1.yuicompress&&x.mode==='node'){return q('./cssmin').compressor.cssmin(i1)}else if(e1.compress){return i1.replace(/(\s)+/g,"$1")}else{return i1}}})(b.eval);if(i<h.length-1){i=w;t=h.split('\n');p=(h.slice(0,i).match(/\n/g)||"").length+1;for(var n=i,c1=-1;n>=0&&h.charAt(n)!=='\n';n--){c1++}M={type:"Parse",message:"Syntax Error on line "+p,index:i,filename:g.filename,line:p,column:c1,extract:[t[p-2],t[p-1],t[p]]}}if(this.imports.queue.length>0){R=function(){a(M,b)}}else{a(M,b)}},parsers:{primary:function(){var n,a=[];while((n=$(this.mixin.definition)||$(this.rule)||$(this.ruleset)||$(this.mixin.call)||$(this.comment)||$(this.directive))||$(/^[\s\n]+/)){n&&a.push(n)}return a},comment:function(){var c;if(h.charAt(i)!=='/')return;if(h.charAt(i+1)==='/'){return new(y.Comment)($(/^\/\/.*/),true)}else if(c=$(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/)){return new(y.Comment)(c)}},entities:{quoted:function(){var s,j=i,e;if(h.charAt(j)==='~'){j++,e=true}if(h.charAt(j)!=='"'&&h.charAt(j)!=="'")return;e&&$('~');if(s=$(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/)){return new(y.Quoted)(s[0],s[1]||s[2],e)}},keyword:function(){var k;if(k=$(/^[_A-Za-z-][_A-Za-z0-9-]*/)){if(y.colors.hasOwnProperty(k)){return new(y.Color)(y.colors[k].slice(1))}else{return new(y.Keyword)(k)}}},call:function(){var n,a,b=i;if(!(n=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(N[j])))return;n=n[1].toLowerCase();if(n==='url'){return null}else{i+=n.length}if(n==='alpha'){return $(this.alpha)}$('(');a=$(this.entities.arguments);if(!$(')'))return;if(n){return new(y.Call)(n,a,b,g.filename)}},arguments:function(){var a=[],b;while(b=$(this.entities.assignment)||$(this.expression)){a.push(b);if(!$(',')){break}}return a},literal:function(){return $(this.entities.dimension)||$(this.entities.color)||$(this.entities.quoted)},assignment:function(){var k,v;if((k=$(/^\w+(?=\s?=)/i))&&$('=')&&(v=$(this.entity))){return new(y.Assignment)(k,v)}},url:function(){var v;if(h.charAt(i)!=='u'||!$(/^url\(/))return;v=$(this.entities.quoted)||$(this.entities.variable)||$(this.entities.dataURI)||$(/^[-\w%@$\/.&=:;#+?~]+/)||"";W(')');return new(y.URL)((v.value||v.data||v instanceof y.Variable)?v:new(y.Anonymous)(v),S.paths)},dataURI:function(){var o;if($(/^data:/)){o={};o.mime=$(/^[^\/]+\/[^,;)]+/)||'';o.charset=$(/^;\s*charset=[^,;)]+/)||'';o.base64=$(/^;\s*base64/)||'';o.data=$(/^,\s*[^)]+/);if(o.data){return o}}},variable:function(){var n,a=i;if(h.charAt(i)==='@'&&(n=$(/^@@?[\w-]+/))){return new(y.Variable)(n,a,g.filename)}},color:function(){var a;if(h.charAt(i)==='#'&&(a=$(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/))){return new(y.Color)(a[1])}},dimension:function(){var v,c=h.charCodeAt(i);if((c>57||c<45)||c===47)return;if(v=$(/^(-?\d*\.?\d+)(px|%|em|rem|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn)?/)){return new(y.Dimension)(v[1],v[2])}},javascript:function(){var s,j=i,e;if(h.charAt(j)==='~'){j++,e=true}if(h.charAt(j)!=='`'){return}e&&$('~');if(s=$(/^`([^`]*)`/)){return new(y.JavaScript)(s[1],i,e)}}},variable:function(){var n;if(h.charAt(i)==='@'&&(n=$(/^(@[\w-]+)\s*:/))){return n[1]}},shorthand:function(){var a,b;if(!X(/^[@\w.%-]+\/[@\w.-]+/))return;if((a=$(this.entity))&&$('/')&&(b=$(this.entity))){return new(y.Shorthand)(a,b)}},mixin:{call:function(){var a=[],e,c,b,d=i,s=h.charAt(i),k=false;if(s!=='.'&&s!=='#'){return}while(e=$(/^[#.](?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+/)){a.push(new(y.Element)(c,e,i));c=$('>')}$('(')&&(b=$(this.entities.arguments))&&$(')');if($(this.important)){k=true}if(a.length>0&&($(';')||X('}'))){return new(y.mixin.Call)(a,b||[],d,g.filename,k)}},definition:function(){var n,p=[],m,a,b,v,c,d=false;if((h.charAt(i)!=='.'&&h.charAt(i)!=='#')||X(/^[^{]*(;|})/))return;T();if(m=$(/^([#.](?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+)\s*\(/)){n=m[1];do{if(h.charAt(i)==='.'&&$(/^\.{3}/)){d=true;break}else if(b=$(this.entities.variable)||$(this.entities.literal)||$(this.entities.keyword)){if(b instanceof y.Variable){if($(':')){v=W(this.expression,'expected expression');p.push({name:b.name,value:v})}else if($(/^\.{3}/)){p.push({name:b.name,variadic:true});d=true;break}else{p.push({name:b.name})}}else{p.push({value:b})}}else{break}}while($(','));W(')');if($(/^when/)){c=W(this.conditions,'expected condition')}a=$(this.block);if(a){return new(y.mixin.Definition)(n,p,a,c,d)}else{U()}}}},entity:function(){return $(this.entities.literal)||$(this.entities.variable)||$(this.entities.url)||$(this.entities.call)||$(this.entities.keyword)||$(this.entities.javascript)||$(this.comment)},end:function(){return $(';')||X('}')},alpha:function(){var v;if(!$(/^\(opacity=/i))return;if(v=$(/^\d+/)||$(this.entities.variable)){W(')');return new(y.Alpha)(v)}},element:function(){var e,t,c,v;c=$(this.combinator);e=$(/^(?:\d+\.\d+|\d+)%/)||$(/^(?:[.#]?|:*)(?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+/)||$('*')||$(this.attribute)||$(/^\([^)@]+\)/);if(!e){$('(')&&(v=$(this.entities.variable))&&$(')')&&(e=new(y.Paren)(v))}if(e){return new(y.Element)(c,e,i)}if(c.value&&c.value.charAt(0)==='&'){return new(y.Element)(c,null,i)}},combinator:function(){var m,c=h.charAt(i);if(c==='>'||c==='+'||c==='~'){i++;while(h.charAt(i)===' '){i++}return new(y.Combinator)(c)}else if(c==='&'){m='&';i++;if(h.charAt(i)===' '){m='& '}while(h.charAt(i)===' '){i++}return new(y.Combinator)(m)}else if(h.charAt(i-1)===' '){return new(y.Combinator)(" ")}else{return new(y.Combinator)(null)}},selector:function(){var s,e,a=[],c,m;if($('(')){s=$(this.entity);W(')');return new(y.Selector)([new(y.Element)('',s,i)])}while(e=$(this.element)){c=h.charAt(i);a.push(e);if(c==='{'||c==='}'||c===';'||c===','){break}}if(a.length>0){return new(y.Selector)(a)}},tag:function(){return $(/^[a-zA-Z][a-zA-Z-]*[0-9]?/)||$('*')},attribute:function(){var a='',k,v,o;if(!$('['))return;if(k=$(/^[a-zA-Z-]+/)||$(this.entities.quoted)){if((o=$(/^[|~*$^]?=/))&&(v=$(this.entities.quoted)||$(/^[\w-]+/))){a=[k,o,v.toCSS?v.toCSS():v].join('')}else{a=k}}if(!$(']'))return;if(a){return"["+a+"]"}},block:function(){var c;if($('{')&&(c=$(this.primary))&&$('}')){return c}},ruleset:function(){var a=[],s,b,m;T();while(s=$(this.selector)){a.push(s);$(this.comment);if(!$(',')){break}$(this.comment)}if(a.length>0&&(b=$(this.block))){return new(y.Ruleset)(a,b,g.strictImports)}else{w=i;U()}},rule:function(){var n,v,c=h.charAt(i),a,m;T();if(c==='.'||c==='#'||c==='&'){return}if(n=$(this.variable)||$(this.property)){if((n.charAt(0)!='@')&&(m=/^([^@+\/'"*`(;{}-]*);/.exec(N[j]))){i+=m[0].length-1;v=new(y.Anonymous)(m[1])}else if(n==="font"){v=$(this.font)}else{v=$(this.value)}a=$(this.important);if(v&&$(this.end)){return new(y.Rule)(n,v,a,r)}else{w=i;U()}}},"import":function(){var p,a,b=i;if($(/^@import\s+/)&&(p=$(this.entities.quoted)||$(this.entities.url))){a=$(this.mediaFeatures);if($(';')){return new(y.Import)(p,S,a,b)}}},mediaFeature:function(){var e,p,n=[];do{if(e=$(this.entities.keyword)){n.push(e)}else if($('(')){p=$(this.property);e=$(this.entity);if($(')')){if(p&&e){n.push(new(y.Paren)(new(y.Rule)(p,e,null,i,true)))}else if(e){n.push(new(y.Paren)(e))}else{return null}}else{return null}}}while(e);if(n.length>0){return new(y.Expression)(n)}},mediaFeatures:function(){var e,a=[];do{if(e=$(this.mediaFeature)){a.push(e);if(!$(',')){break}}else if(e=$(this.entities.variable)){a.push(e);if(!$(',')){break}}}while(e);return a.length>0?a:null},media:function(){var a,b;if($(/^@media/)){a=$(this.mediaFeatures);if(b=$(this.block)){return new(y.Media)(b,a)}}},directive:function(){var n,v,a,t,e,b;if(h.charAt(i)!=='@')return;if(v=$(this['import'])||$(this.media)){return v}else if(n=$(/^@page|@keyframes/)||$(/^@(?:-webkit-|-moz-|-o-|-ms-)[a-z0-9-]+/)){t=($(/^[^{]+/)||'').trim();if(a=$(this.block)){return new(y.Directive)(n+" "+t,a)}}else if(n=$(/^@[-a-z]+/)){if(n==='@font-face'){if(a=$(this.block)){return new(y.Directive)(n,a)}}else if((v=$(this.entity))&&$(';')){return new(y.Directive)(n,v)}}},font:function(){var v=[],a=[],b,s,c,e;while(e=$(this.shorthand)||$(this.entity)){a.push(e)}v.push(new(y.Expression)(a));if($(',')){while(e=$(this.expression)){v.push(e);if(!$(',')){break}}}return new(y.Value)(v)},value:function(){var e,a=[],b;while(e=$(this.expression)){a.push(e);if(!$(',')){break}}if(a.length>0){return new(y.Value)(a)}},important:function(){if(h.charAt(i)==='!'){return $(/^! *important/)}},sub:function(){var e;if($('(')&&(e=$(this.expression))&&$(')')){return e}},multiplication:function(){var m,a,o,b;if(m=$(this.operand)){while(!X(/^\/\*/)&&(o=($('/')||$('*')))&&(a=$(this.operand))){b=new(y.Operation)(o,[b||m,a])}return b||m}},addition:function(){var m,a,o,b;if(m=$(this.multiplication)){while((o=$(/^[-+]\s+/)||(h.charAt(i-1)!=' '&&($('+')||$('-'))))&&(a=$(this.multiplication))){b=new(y.Operation)(o,[b||m,a])}return b||m}},conditions:function(){var a,b,c=i,d;if(a=$(this.condition)){while($(',')&&(b=$(this.condition))){d=new(y.Condition)('or',d||a,b,c)}return d||a}},condition:function(){var a,b,c,o,d=i,n=false;if($(/^not/)){n=true}W('(');if(a=$(this.addition)||$(this.entities.keyword)||$(this.entities.quoted)){if(o=$(/^(?:>=|=<|[<=>])/)){if(b=$(this.addition)||$(this.entities.keyword)||$(this.entities.quoted)){c=new(y.Condition)(o,a,b,d,n)}else{M('expected expression')}}else{c=new(y.Condition)('=',a,new(y.Keyword)('true'),d,n)}W(')');return $(/^and/)?new(y.Condition)('and',c,$(this.condition)):c}},operand:function(){var n,p=h.charAt(i+1);if(h.charAt(i)==='-'&&(p==='@'||p==='(')){n=$('-')}var o=$(this.sub)||$(this.entities.dimension)||$(this.entities.color)||$(this.entities.variable)||$(this.entities.call);return n?new(y.Operation)('*',[new(y.Dimension)(-1),o]):o},expression:function(){var e,a,b=[],d;while(e=$(this.addition)||$(this.entity)){b.push(e)}if(b.length>0){return new(y.Expression)(b)}},property:function(){var n;if(n=$(/^(\*?-?[-a-z_0-9]+)\s*:/)){return n[1]}}}}};if(x.mode==='browser'||x.mode==='rhino'){x.Parser.importer=function(p,a,c,b){if(!/^([a-z]+:)?\//.test(p)&&a.length>0){p=a[0]+p}F({href:p,title:p,type:b.mime},function(e){if(e&&typeof(b.errback)==="function"){b.errback.call(null,p,a,c,b)}else{c.apply(null,arguments)}},true)}}(function(y){y.functions={rgb:function(r,g,b){return this.rgba(r,g,b,1.0)},rgba:function(r,g,b,a){var h=[r,g,b].map(function(c){return e(c)}),a=e(a);return new(y.Color)(h,a)},hsl:function(h,s,l){return this.hsla(h,s,l,1.0)},hsla:function(h,s,l,a){h=(e(h)%360)/360;s=e(s);l=e(l);a=e(a);var m=l<=0.5?l*(s+1):l+s-l*s;var b=l*2-m;return this.rgba(c(h+1/3)*255,c(h)*255,c(h-1/3)*255,a);function c(h){h=h<0?h+1:(h>1?h-1:h);if(h*6<1)return b+(m-b)*h*6;else if(h*2<1)return m;else if(h*3<2)return b+(m-b)*(2/3-h)*6;else return b}},hue:function(c){return new(y.Dimension)(Math.round(c.toHSL().h))},saturation:function(c){return new(y.Dimension)(Math.round(c.toHSL().s*100),'%')},lightness:function(c){return new(y.Dimension)(Math.round(c.toHSL().l*100),'%')},alpha:function(c){return new(y.Dimension)(c.toHSL().a)},saturate:function(c,a){var h=c.toHSL();h.s+=a.value/100;h.s=j(h.s);return d(h)},desaturate:function(c,a){var h=c.toHSL();h.s-=a.value/100;h.s=j(h.s);return d(h)},lighten:function(c,a){var h=c.toHSL();h.l+=a.value/100;h.l=j(h.l);return d(h)},darken:function(c,a){var h=c.toHSL();h.l-=a.value/100;h.l=j(h.l);return d(h)},fadein:function(c,a){var h=c.toHSL();h.a+=a.value/100;h.a=j(h.a);return d(h)},fadeout:function(c,a){var h=c.toHSL();h.a-=a.value/100;h.a=j(h.a);return d(h)},fade:function(c,a){var h=c.toHSL();h.a=a.value/100;h.a=j(h.a);return d(h)},spin:function(c,a){var h=c.toHSL();var b=(h.h+a.value)%360;h.h=b<0?360+b:b;return d(h)},
// Copyright (c) 2006-2009 Hampton Catlin, Nathan Weizenbaum, and Chris Eppstein
mix:function(c,b,g){var p=g.value/100.0;var w=p*2-1;var a=c.toHSL().a-b.toHSL().a;var h=(((w*a==-1)?w:(w+a)/(1+w*a))+1)/2.0;var k=1-h;var r=[c.rgb[0]*h+b.rgb[0]*k,c.rgb[1]*h+b.rgb[1]*k,c.rgb[2]*h+b.rgb[2]*k];var l=c.alpha*p+b.alpha*(1-p);return new(y.Color)(r,l)},greyscale:function(c){return this.desaturate(c,new(y.Dimension)(100))},e:function(s){return new(y.Anonymous)(s instanceof y.JavaScript?s.evaluated:s)},escape:function(s){return new(y.Anonymous)(encodeURI(s.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},'%':function(a){var b=Array.prototype.slice.call(arguments,1),s=a.value;for(var i=0;i<b.length;i++){s=s.replace(/%[sda]/i,function(t){var v=t.match(/s/i)?b[i].value:b[i].toCSS();return t.match(/[A-Z]$/)?encodeURIComponent(v):v})}s=s.replace(/%%/g,'%');return new(y.Quoted)('"'+s+'"',s)},round:function(n){return this._math('round',n)},ceil:function(n){return this._math('ceil',n)},floor:function(n){return this._math('floor',n)},_math:function(a,n){if(n instanceof y.Dimension){return new(y.Dimension)(Math[a](e(n)),n.unit)}else if(typeof(n)==='number'){return Math[a](n)}else{throw{type:"Argument",message:"argument must be a number"}}},argb:function(c){return new(y.Anonymous)(c.toARGB())},percentage:function(n){return new(y.Dimension)(n.value*100,'%')},color:function(n){if(n instanceof y.Quoted){return new(y.Color)(n.value.slice(1))}else{throw{type:"Argument",message:"argument must be a string"}}},iscolor:function(n){return this._isa(n,y.Color)},isnumber:function(n){return this._isa(n,y.Dimension)},isstring:function(n){return this._isa(n,y.Quoted)},iskeyword:function(n){return this._isa(n,y.Keyword)},isurl:function(n){return this._isa(n,y.URL)},ispixel:function(n){return(n instanceof y.Dimension)&&n.unit==='px'?y.True:y.False},ispercentage:function(n){return(n instanceof y.Dimension)&&n.unit==='%'?y.True:y.False},isem:function(n){return(n instanceof y.Dimension)&&n.unit==='em'?y.True:y.False},_isa:function(n,T){return(n instanceof T)?y.True:y.False}};function d(d){return y.functions.hsla(d.h,d.s,d.l,d.a)}function e(n){if(n instanceof y.Dimension){return parseFloat(n.unit=='%'?n.value/100:n.value)}else if(typeof(n)==='number'){return n}else{throw{error:"RuntimeError",message:"color functions take numbers as parameters"}}}function j(v){return Math.min(1,Math.max(0,v))}})(q('./tree'));(function(y){y.colors={'aliceblue':'#f0f8ff','antiquewhite':'#faebd7','aqua':'#00ffff','aquamarine':'#7fffd4','azure':'#f0ffff','beige':'#f5f5dc','bisque':'#ffe4c4','black':'#000000','blanchedalmond':'#ffebcd','blue':'#0000ff','blueviolet':'#8a2be2','brown':'#a52a2a','burlywood':'#deb887','cadetblue':'#5f9ea0','chartreuse':'#7fff00','chocolate':'#d2691e','coral':'#ff7f50','cornflowerblue':'#6495ed','cornsilk':'#fff8dc','crimson':'#dc143c','cyan':'#00ffff','darkblue':'#00008b','darkcyan':'#008b8b','darkgoldenrod':'#b8860b','darkgray':'#a9a9a9','darkgrey':'#a9a9a9','darkgreen':'#006400','darkkhaki':'#bdb76b','darkmagenta':'#8b008b','darkolivegreen':'#556b2f','darkorange':'#ff8c00','darkorchid':'#9932cc','darkred':'#8b0000','darksalmon':'#e9967a','darkseagreen':'#8fbc8f','darkslateblue':'#483d8b','darkslategray':'#2f4f4f','darkslategrey':'#2f4f4f','darkturquoise':'#00ced1','darkviolet':'#9400d3','deeppink':'#ff1493','deepskyblue':'#00bfff','dimgray':'#696969','dimgrey':'#696969','dodgerblue':'#1e90ff','firebrick':'#b22222','floralwhite':'#fffaf0','forestgreen':'#228b22','fuchsia':'#ff00ff','gainsboro':'#dcdcdc','ghostwhite':'#f8f8ff','gold':'#ffd700','goldenrod':'#daa520','gray':'#808080','grey':'#808080','green':'#008000','greenyellow':'#adff2f','honeydew':'#f0fff0','hotpink':'#ff69b4','indianred':'#cd5c5c','indigo':'#4b0082','ivory':'#fffff0','khaki':'#f0e68c','lavender':'#e6e6fa','lavenderblush':'#fff0f5','lawngreen':'#7cfc00','lemonchiffon':'#fffacd','lightblue':'#add8e6','lightcoral':'#f08080','lightcyan':'#e0ffff','lightgoldenrodyellow':'#fafad2','lightgray':'#d3d3d3','lightgrey':'#d3d3d3','lightgreen':'#90ee90','lightpink':'#ffb6c1','lightsalmon':'#ffa07a','lightseagreen':'#20b2aa','lightskyblue':'#87cefa','lightslategray':'#778899','lightslategrey':'#778899','lightsteelblue':'#b0c4de','lightyellow':'#ffffe0','lime':'#00ff00','limegreen':'#32cd32','linen':'#faf0e6','magenta':'#ff00ff','maroon':'#800000','mediumaquamarine':'#66cdaa','mediumblue':'#0000cd','mediumorchid':'#ba55d3','mediumpurple':'#9370d8','mediumseagreen':'#3cb371','mediumslateblue':'#7b68ee','mediumspringgreen':'#00fa9a','mediumturquoise':'#48d1cc','mediumvioletred':'#c71585','midnightblue':'#191970','mintcream':'#f5fffa','mistyrose':'#ffe4e1','moccasin':'#ffe4b5','navajowhite':'#ffdead','navy':'#000080','oldlace':'#fdf5e6','olive':'#808000','olivedrab':'#6b8e23','orange':'#ffa500','orangered':'#ff4500','orchid':'#da70d6','palegoldenrod':'#eee8aa','palegreen':'#98fb98','paleturquoise':'#afeeee','palevioletred':'#d87093','papayawhip':'#ffefd5','peachpuff':'#ffdab9','peru':'#cd853f','pink':'#ffc0cb','plum':'#dda0dd','powderblue':'#b0e0e6','purple':'#800080','red':'#ff0000','rosybrown':'#bc8f8f','royalblue':'#4169e1','saddlebrown':'#8b4513','salmon':'#fa8072','sandybrown':'#f4a460','seagreen':'#2e8b57','seashell':'#fff5ee','sienna':'#a0522d','silver':'#c0c0c0','skyblue':'#87ceeb','slateblue':'#6a5acd','slategray':'#708090','slategrey':'#708090','snow':'#fffafa','springgreen':'#00ff7f','steelblue':'#4682b4','tan':'#d2b48c','teal':'#008080','thistle':'#d8bfd8','tomato':'#ff6347','turquoise':'#40e0d0','violet':'#ee82ee','wheat':'#f5deb3','white':'#ffffff','whitesmoke':'#f5f5f5','yellow':'#ffff00','yellowgreen':'#9acd32'}})(q('./tree'));(function(y){y.Alpha=function(v){this.value=v};y.Alpha.prototype={toCSS:function(){return"alpha(opacity="+(this.value.toCSS?this.value.toCSS():this.value)+")"},eval:function(e){if(this.value.eval){this.value=this.value.eval(e)}return this}}})(q('../tree'));(function(y){y.Anonymous=function(s){this.value=s.value||s};y.Anonymous.prototype={toCSS:function(){return this.value},eval:function(){return this}}})(q('../tree'));(function(y){y.Assignment=function(k,v){this.key=k;this.value=v};y.Assignment.prototype={toCSS:function(){return this.key+'='+(this.value.toCSS?this.value.toCSS():this.value)},eval:function(e){if(this.value.eval){this.value=this.value.eval(e)}return this}}})(q('../tree'));(function(y){y.Call=function(n,a,b,c){this.name=n;this.args=a;this.index=b;this.filename=c};y.Call.prototype={eval:function(b){var c=this.args.map(function(a){return a.eval(b)});if(this.name in y.functions){try{return y.functions[this.name].apply(y.functions,c)}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?': '+e.message:''),index:this.index,filename:this.filename}}}else{return new(y.Anonymous)(this.name+"("+c.map(function(a){return a.toCSS()}).join(', ')+")")}},toCSS:function(e){return this.eval(e).toCSS()}}})(q('../tree'));(function(y){y.Color=function(r,a){if(Array.isArray(r)){this.rgb=r}else if(r.length==6){this.rgb=r.match(/.{2}/g).map(function(c){return parseInt(c,16)})}else{this.rgb=r.split('').map(function(c){return parseInt(c+c,16)})}this.alpha=typeof(a)==='number'?a:1};y.Color.prototype={eval:function(){return this},toCSS:function(){if(this.alpha<1.0){return"rgba("+this.rgb.map(function(c){return Math.round(c)}).concat(this.alpha).join(', ')+")"}else{return'#'+this.rgb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?'0'+i:i}).join('')}},operate:function(o,a){var r=[];if(!(a instanceof y.Color)){a=a.toColor()}for(var c=0;c<3;c++){r[c]=y.operate(o,this.rgb[c],a.rgb[c])}return new(y.Color)(r,this.alpha+a.alpha)},toHSL:function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha;var m=Math.max(r,g,b),c=Math.min(r,g,b);var h,s,l=(m+c)/2,d=m-c;if(m===c){h=s=0}else{s=l>0.5?d/(2-m-c):d/(m+c);switch(m){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return{h:h*360,s:s,l:l,a:a}},toARGB:function(){var a=[Math.round(this.alpha*255)].concat(this.rgb);return'#'+a.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?'0'+i:i}).join('')}}})(q('../tree'));(function(y){y.Comment=function(v,s){this.value=v;this.silent=!!s};y.Comment.prototype={toCSS:function(e){return e.compress?'':this.value},eval:function(){return this}}})(q('../tree'));(function(y){y.Condition=function(o,l,r,i,n){this.op=o.trim();this.lvalue=l;this.rvalue=r;this.index=i;this.negate=n};y.Condition.prototype.eval=function(e){var a=this.lvalue.eval(e),b=this.rvalue.eval(e);var i=this.index,r;var r=(function(o){switch(o){case'and':return a&&b;case'or':return a||b;default:if(a.compare){r=a.compare(b)}else if(b.compare){r=b.compare(a)}else{throw{type:"Type",message:"Unable to perform comparison",index:i}}switch(r){case-1:return o==='<'||o==='=<';case 0:return o==='='||o==='>='||o==='=<';case 1:return o==='>'||o==='>='}}})(this.op);return this.negate?!r:r}})(q('../tree'));(function(y){y.Dimension=function(v,a){this.value=parseFloat(v);this.unit=a||null};y.Dimension.prototype={eval:function(){return this},toColor:function(){return new(y.Color)([this.value,this.value,this.value])},toCSS:function(){var c=this.value+this.unit;return c},operate:function(o,a){return new(y.Dimension)(y.operate(o,this.value,a.value),this.unit||a.unit)},compare:function(o){if(o instanceof y.Dimension){if(o.value>this.value){return-1}else if(o.value<this.value){return 1}else{return 0}}else{return-1}}}})(q('../tree'));(function(y){y.Directive=function(n,v,a){this.name=n;if(Array.isArray(v)){this.ruleset=new(y.Ruleset)([],v);this.ruleset.allowImports=true}else{this.value=v}};y.Directive.prototype={toCSS:function(c,e){if(this.ruleset){this.ruleset.root=true;return this.name+(e.compress?'{':' {\n  ')+this.ruleset.toCSS(c,e).trim().replace(/\n/g,'\n  ')+(e.compress?'}':'\n}\n')}else{return this.name+' '+this.value.toCSS()+';\n'}},eval:function(e){e.frames.unshift(this);this.ruleset=this.ruleset&&this.ruleset.eval(e);e.frames.shift();return this},variable:function(n){return y.Ruleset.prototype.variable.call(this.ruleset,n)},find:function(){return y.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return y.Ruleset.prototype.rulesets.apply(this.ruleset)}}})(q('../tree'));(function(y){y.Element=function(c,v,a){this.combinator=c instanceof y.Combinator?c:new(y.Combinator)(c);if(typeof(v)==='string'){this.value=v.trim()}else if(v){this.value=v}else{this.value=""}this.index=a};y.Element.prototype.eval=function(e){return new(y.Element)(this.combinator,this.value.eval?this.value.eval(e):this.value,this.index)};y.Element.prototype.toCSS=function(e){return this.combinator.toCSS(e||{})+(this.value.toCSS?this.value.toCSS(e):this.value)};y.Combinator=function(v){if(v===' '){this.value=' '}else if(v==='& '){this.value='& '}else{this.value=v?v.trim():""}};y.Combinator.prototype.toCSS=function(e){return{'':'',' ':' ','&':'','& ':' ',':':' :','+':e.compress?'+':' + ','~':e.compress?'~':' ~ ','>':e.compress?'>':' > '}[this.value]}})(q('../tree'));(function(y){y.Expression=function(v){this.value=v};y.Expression.prototype={eval:function(a){if(this.value.length>1){return new(y.Expression)(this.value.map(function(e){return e.eval(a)}))}else if(this.value.length===1){return this.value[0].eval(a)}else{return this}},toCSS:function(a){return this.value.map(function(e){return e.toCSS?e.toCSS(a):''}).join(' ')}}})(q('../tree'));(function(y){y.Import=function(p,a,b,c){var t=this;this.index=c;this._path=p;this.features=b&&new(y.Value)(b);if(p instanceof y.Quoted){this.path=/\.(le?|c)ss(\?.*)?$/.test(p.value)?p.value:p.value+'.less'}else{this.path=p.value.value||p.value}this.css=/css(\?.*)?$/.test(this.path);if(!this.css){a.push(this.path,function(e,r){if(e){e.index=c}t.root=r||new(y.Ruleset)([],[])})}};y.Import.prototype={toCSS:function(e){var a=this.features?' '+this.features.toCSS(e):'';if(this.css){return"@import "+this._path.toCSS()+a+';\n'}else{return""}},eval:function(e){var r,a=this.features&&this.features.eval(e);if(this.css){return this}else{r=new(y.Ruleset)([],this.root.rules.slice(0));for(var i=0;i<r.rules.length;i++){if(r.rules[i]instanceof y.Import){Array.prototype.splice.apply(r.rules,[i,1].concat(r.rules[i].eval(e)))}}return this.features?new(y.Media)(r.rules,this.features.value):r.rules}}}})(q('../tree'));(function(y){y.JavaScript=function(s,a,e){this.escaped=e;this.expression=s;this.index=a};y.JavaScript.prototype={eval:function(a){var r,t=this,c={};var b=this.expression.replace(/@\{([\w-]+)\}/g,function(_,n){return y.jsify(new(y.Variable)('@'+n,t.index).eval(a))});try{b=new(Function)('return ('+b+')')}catch(e){throw{message:"JavaScript evaluation error: `"+b+"`",index:this.index}}for(var k in a.frames[0].variables()){c[k.slice(1)]={value:a.frames[0].variables()[k].value,toJS:function(){return this.value.eval(a).toCSS()}}}try{r=b.call(c)}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+': '+e.message+"'",index:this.index}}if(typeof(r)==='string'){return new(y.Quoted)('"'+r+'"',r,this.escaped,this.index)}else if(Array.isArray(r)){return new(y.Anonymous)(r.join(', '))}else{return new(y.Anonymous)(r)}}}})(q('../tree'));(function(y){y.Keyword=function(v){this.value=v};y.Keyword.prototype={eval:function(){return this},toCSS:function(){return this.value},compare:function(o){if(o instanceof y.Keyword){return o.value===this.value?0:1}else{return-1}}};y.True=new(y.Keyword)('true');y.False=new(y.Keyword)('false')})(q('../tree'));(function(y){y.Media=function(v,a){var e=new(y.Element)('&',null,0),s=[new(y.Selector)([e])];this.features=new(y.Value)(a);this.ruleset=new(y.Ruleset)(s,v);this.ruleset.allowImports=true};y.Media.prototype={toCSS:function(c,e){var a=this.features.toCSS(e);this.ruleset.root=(c.length===0||c[0].multiMedia);return'@media '+a+(e.compress?'{':' {\n  ')+this.ruleset.toCSS(c,e).trim().replace(/\n/g,'\n  ')+(e.compress?'}':'\n}\n')},eval:function(e){if(!e.mediaBlocks){e.mediaBlocks=[];e.mediaPath=[]}var b=e.mediaBlocks.length;e.mediaPath.push(this);e.mediaBlocks.push(this);var m=new(y.Media)([],[]);m.features=this.features.eval(e);e.frames.unshift(this.ruleset);m.ruleset=this.ruleset.eval(e);e.frames.shift();e.mediaBlocks[b]=m;e.mediaPath.pop();return e.mediaPath.length===0?m.evalTop(e):m.evalNested(e)},variable:function(n){return y.Ruleset.prototype.variable.call(this.ruleset,n)},find:function(){return y.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return y.Ruleset.prototype.rulesets.apply(this.ruleset)},evalTop:function(e){var r=this;if(e.mediaBlocks.length>1){var a=new(y.Element)('&',null,0);var s=[new(y.Selector)([a])];r=new(y.Ruleset)(s,e.mediaBlocks);r.multiMedia=true}delete e.mediaBlocks;delete e.mediaPath;return r},evalNested:function(e){var i,v,p=e.mediaPath.concat([this]);for(i=0;i<p.length;i++){v=p[i].features instanceof y.Value?p[i].features.value:p[i].features;p[i]=Array.isArray(v)?v:[v]}this.features=new(y.Value)(this.permute(p).map(function(p){p=p.map(function(a){return a.toCSS?a:new(y.Anonymous)(a)});for(i=p.length-1;i>0;i--){p.splice(i,0,new(y.Anonymous)("and"))}return new(y.Expression)(p)}));return new(y.Ruleset)([],[])},permute:function(a){if(a.length===0){return[]}else if(a.length===1){return a[0]}else{var r=[];var b=this.permute(a.slice(1));for(var i=0;i<b.length;i++){for(var j=0;j<a[0].length;j++){r.push([a[0][j]].concat(b[i]))}}return r}}}})(q('../tree'));(function(y){y.mixin={};y.mixin.Call=function(e,a,b,c,d){this.selector=new(y.Selector)(e);this.arguments=a;this.index=b;this.filename=c;this.important=d};y.mixin.Call.prototype={eval:function(b){var c,d,r=[],g=false;for(var i=0;i<b.frames.length;i++){if((c=b.frames[i].find(this.selector)).length>0){d=this.arguments&&this.arguments.map(function(a){return a.eval(b)});for(var m=0;m<c.length;m++){if(c[m].match(d,b)){try{Array.prototype.push.apply(r,c[m].eval(b,this.arguments,this.important).rules);g=true}catch(e){throw{message:e.message,index:this.index,filename:this.filename,stack:e.stack}}}}if(g){return r}else{throw{type:'Runtime',message:'No matching definition was found for `'+this.selector.toCSS().trim()+'('+this.arguments.map(function(a){return a.toCSS()}).join(', ')+")`",index:this.index,filename:this.filename}}}}throw{type:'Name',message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.filename}}};y.mixin.Definition=function(n,a,r,c,v){this.name=n;this.selectors=[new(y.Selector)([new(y.Element)(null,n)])];this.params=a;this.condition=c;this.variadic=v;this.arity=a.length;this.rules=r;this._lookups={};this.required=a.reduce(function(b,p){if(!p.name||(p.name&&!p.value)){return b+1}else{return b}},0);this.parent=y.Ruleset.prototype;this.frames=[]};y.mixin.Definition.prototype={toCSS:function(){return""},variable:function(n){return this.parent.variable.call(this,n)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(e,a){var b=new(y.Ruleset)(null,[]),v;for(var i=0,c,n;i<this.params.length;i++){if(n=this.params[i].name){if(this.params[i].variadic&&a){v=[];for(var j=i;j<a.length;j++){v.push(a[j].eval(e))}b.rules.unshift(new(y.Rule)(n,new(y.Expression)(v).eval(e)))}else if(c=(a&&a[i])||this.params[i].value){b.rules.unshift(new(y.Rule)(n,c.eval(e)))}else{throw{type:'Runtime',message:"wrong number of arguments for "+this.name+' ('+a.length+' for '+this.arity+')'}}}}return b},eval:function(e,a,b){var c=this.evalParams(e,a),d,g=[],h,s;for(var i=0;i<Math.max(this.params.length,a&&a.length);i++){g.push(a[i]||this.params[i].value)}c.rules.unshift(new(y.Rule)('@arguments',new(y.Expression)(g).eval(e)));h=b?this.rules.map(function(r){return new(y.Rule)(r.name,r.value,'!important',r.index)}):this.rules.slice(0);return new(y.Ruleset)(null,h).eval({frames:[this,c].concat(this.frames,e.frames)})},match:function(a,e){var b=(a&&a.length)||0,l,c;if(!this.variadic){if(b<this.required){return false}if(b>this.params.length){return false}if((this.required>0)&&(b>this.params.length)){return false}}if(this.condition&&!this.condition.eval({frames:[this.evalParams(e,a)].concat(e.frames)})){return false}l=Math.min(b,this.arity);for(var i=0;i<l;i++){if(!this.params[i].name){if(a[i].eval(e).toCSS()!=this.params[i].value.eval(e).toCSS()){return false}}}return true}}})(q('../tree'));(function(y){y.Operation=function(o,a){this.op=o.trim();this.operands=a};y.Operation.prototype.eval=function(e){var a=this.operands[0].eval(e),b=this.operands[1].eval(e),t;if(a instanceof y.Dimension&&b instanceof y.Color){if(this.op==='*'||this.op==='+'){t=b,b=a,a=t}else{throw{name:"OperationError",message:"Can't substract or divide a color from a number"}}}return a.operate(this.op,b)};y.operate=function(o,a,b){switch(o){case'+':return a+b;case'-':return a-b;case'*':return a*b;case'/':return a/b}}})(q('../tree'));(function(y){y.Paren=function(n){this.value=n};y.Paren.prototype={toCSS:function(e){return'('+this.value.toCSS(e)+')'},eval:function(e){return new(y.Paren)(this.value.eval(e))}}})(q('../tree'));(function(y){y.Quoted=function(s,c,e,i){this.escaped=e;this.value=c||'';this.quote=s.charAt(0);this.index=i};y.Quoted.prototype={toCSS:function(){if(this.escaped){return this.value}else{return this.quote+this.value+this.quote}},eval:function(e){var t=this;var a=this.value.replace(/`([^`]+)`/g,function(_,b){return new(y.JavaScript)(b,t.index,true).eval(e).value}).replace(/@\{([\w-]+)\}/g,function(_,n){var v=new(y.Variable)('@'+n,t.index).eval(e);return('value'in v)?v.value:v.toCSS()});return new(y.Quoted)(this.quote+a+this.quote,a,this.escaped,this.index)}}})(q('../tree'));(function(y){y.Rule=function(n,v,a,b,c){this.name=n;this.value=(v instanceof y.Value)?v:new(y.Value)([v]);this.important=a?' '+a.trim():'';this.index=b;this.inline=c||false;if(n.charAt(0)==='@'){this.variable=true}else{this.variable=false}};y.Rule.prototype.toCSS=function(e){if(this.variable){return""}else{return this.name+(e.compress?':':': ')+this.value.toCSS(e)+this.important+(this.inline?"":";")}};y.Rule.prototype.eval=function(c){return new(y.Rule)(this.name,this.value.eval(c),this.important,this.index,this.inline)};y.Shorthand=function(a,b){this.a=a;this.b=b};y.Shorthand.prototype={toCSS:function(e){return this.a.toCSS(e)+"/"+this.b.toCSS(e)},eval:function(){return this}}})(q('../tree'));(function(y){y.Ruleset=function(s,r,a){this.selectors=s;this.rules=r;this._lookups={};this.strictImports=a};y.Ruleset.prototype={eval:function(e){var a=this.selectors&&this.selectors.map(function(s){return s.eval(e)});var r=new(y.Ruleset)(a,this.rules.slice(0),this.strictImports);r.root=this.root;r.allowImports=this.allowImports;e.frames.unshift(r);if(r.root||r.allowImports||!r.strictImports){for(var i=0;i<r.rules.length;i++){if(r.rules[i]instanceof y.Import){Array.prototype.splice.apply(r.rules,[i,1].concat(r.rules[i].eval(e)))}}}for(var i=0;i<r.rules.length;i++){if(r.rules[i]instanceof y.mixin.Definition){r.rules[i].frames=e.frames.slice(0)}}for(var i=0;i<r.rules.length;i++){if(r.rules[i]instanceof y.mixin.Call){Array.prototype.splice.apply(r.rules,[i,1].concat(r.rules[i].eval(e)))}}for(var i=0,b;i<r.rules.length;i++){b=r.rules[i];if(!(b instanceof y.mixin.Definition)){r.rules[i]=b.eval?b.eval(e):b}}e.frames.shift();return r},match:function(a){return!a||a.length===0},variables:function(){if(this._variables){return this._variables}else{return this._variables=this.rules.reduce(function(h,r){if(r instanceof y.Rule&&r.variable===true){h[r.name]=r}return h},{})}},variable:function(n){return this.variables()[n]},rulesets:function(){if(this._rulesets){return this._rulesets}else{return this._rulesets=this.rules.filter(function(r){return(r instanceof y.Ruleset)||(r instanceof y.mixin.Definition)})}},find:function(s,a){a=a||this;var r=[],b,m,k=s.toCSS();if(k in this._lookups){return this._lookups[k]}this.rulesets().forEach(function(b){if(b!==a){for(var j=0;j<b.selectors.length;j++){if(m=s.match(b.selectors[j])){if(s.elements.length>b.selectors[j].elements.length){Array.prototype.push.apply(r,b.find(new(y.Selector)(s.elements.slice(1)),a))}else{r.push(b)}break}}}});return this._lookups[k]=r},toCSS:function(c,e){var a=[],r=[],b=[],d=[],g,h;if(!this.root){if(c.length===0){d=this.selectors.map(function(s){return[s]})}else{this.joinSelectors(d,c,this.selectors)}}for(var i=0;i<this.rules.length;i++){h=this.rules[i];if(h.rules||(h instanceof y.Directive)||(h instanceof y.Media)){b.push(h.toCSS(d,e))}else if(h instanceof y.Comment){if(!h.silent){if(this.root){b.push(h.toCSS(e))}else{r.push(h.toCSS(e))}}}else{if(h.toCSS&&!h.variable){r.push(h.toCSS(e))}else if(h.value&&!h.variable){r.push(h.value.toString())}}}b=b.join('');if(this.root){a.push(r.join(e.compress?'':'\n'))}else{if(r.length>0){g=d.map(function(p){return p.map(function(s){return s.toCSS(e)}).join('').trim()}).join(e.compress?',':',\n');a.push(g,(e.compress?'{':' {\n  ')+r.join(e.compress?'':'\n  ')+(e.compress?'}':'\n}\n'))}}a.push(b);return a.join('')+(e.compress?'\n':'')},joinSelectors:function(p,c,a){for(var s=0;s<a.length;s++){this.joinSelector(p,c,a[s])}},joinSelector:function(p,a,s){var b=[],d=[],e=[],g=[],h=false,j;for(var i=0;i<s.elements.length;i++){j=s.elements[i];if(j.combinator.value.charAt(0)==='&'){h=true}if(h)g.push(j);else e.push(j)}if(!h){g=e;e=[]}if(e.length>0){b.push(new(y.Selector)(e))}if(g.length>0){d.push(new(y.Selector)(g))}for(var c=0;c<a.length;c++){p.push(b.concat(a[c]).concat(d))}}}})(q('../tree'));(function(y){y.Selector=function(e){this.elements=e;if(this.elements[0].combinator.value===""){this.elements[0].combinator.value=' '}};y.Selector.prototype.match=function(o){var l=this.elements.length,a=o.elements.length,m=Math.min(l,a);if(l<a){return false}else{for(var i=0;i<m;i++){if(this.elements[i].value!==o.elements[i].value){return false}}}return true};y.Selector.prototype.eval=function(a){return new(y.Selector)(this.elements.map(function(e){return e.eval(a)}))};y.Selector.prototype.toCSS=function(a){if(this._css){return this._css}return this._css=this.elements.map(function(e){if(typeof(e)==='string'){return' '+e.trim()}else{return e.toCSS(a)}}).join('')}})(q('../tree'));(function(y){y.URL=function(v,p){if(v.data){this.attrs=v}else{if(typeof(f)!=='undefined'&&!/^(?:https?:\/\/|file:\/\/|data:|\/)/.test(v.value)&&p.length>0){v.value=p[0]+(v.value.charAt(0)==='/'?v.value.slice(1):v.value)}this.value=v;this.paths=p}};y.URL.prototype={toCSS:function(){return"url("+(this.attrs?'data:'+this.attrs.mime+this.attrs.charset+this.attrs.base64+this.attrs.data:this.value.toCSS())+")"},eval:function(c){return this.attrs?this:new(y.URL)(this.value.eval(c),this.paths)}}})(q('../tree'));(function(y){y.Value=function(v){this.value=v;this.is='value'};y.Value.prototype={eval:function(e){if(this.value.length===1){return this.value[0].eval(e)}else{return new(y.Value)(this.value.map(function(v){return v.eval(e)}))}},toCSS:function(a){return this.value.map(function(e){return e.toCSS(a)}).join(a.compress?',':', ')}}})(q('../tree'));(function(y){y.Variable=function(n,a,b){this.name=n,this.index=a,this.file=b};y.Variable.prototype={eval:function(e){var a,v,n=this.name;if(n.indexOf('@@')==0){n='@'+new(y.Variable)(n.slice(1)).eval(e).value}if(a=y.find(e.frames,function(b){if(v=b.variable(n)){return v.value.eval(e)}})){return a}else{throw{type:'Name',message:"variable "+n+" is undefined",filename:this.file,index:this.index}}}}})(q('../tree'));(function(y){y.find=function(o,a){for(var i=0,r;i<o.length;i++){if(r=a.call(o,o[i])){return r}}return null};y.jsify=function(o){if(Array.isArray(o.value)&&(o.value.length>1)){return'['+o.value.map(function(v){return v.toCSS(false)}).join(', ')+']'}else{return o.toCSS(false)}}})(q('./tree'));var z=(location.protocol==='file:'||location.protocol==='chrome:'||location.protocol==='chrome-extension:'||location.protocol==='resource:');x.env=x.env||(location.hostname=='127.0.0.1'||location.hostname=='0.0.0.0'||location.hostname=='localhost'||location.port.length>0||z?'development':'production');x.async=false;x.poll=x.poll||(z?1000:1500);x.watch=function(){return this.watchMode=true};x.unwatch=function(){return this.watchMode=false};if(x.env==='development'){x.optimization=0;if(/!watch/.test(location.hash)){x.watch()}x.watchTimer=setInterval(function(){if(x.watchMode){E(function(e,r,_,s,a){if(r){H(r.toCSS(),s,a.lastModified)}})}},x.poll)}else{x.optimization=3}var A;try{A=(typeof(f.localStorage)==='undefined')?null:f.localStorage}catch(_){A=null}var B=document.getElementsByTagName('link');var C=/^text\/(x-)?less$/;x.sheets=[];for(var i=0;i<B.length;i++){if(B[i].rel==='stylesheet/less'||(B[i].rel.match(/stylesheet/)&&(B[i].type.match(C)))){x.sheets.push(B[i])}}x.refresh=function(r){var s,a;s=a=new(Date);E(function(e,b,_,c,d){if(d.local){L("loading "+c.href+" from cache.")}else{L("parsed "+c.href+" successfully.");H(b.toCSS(),c,d.lastModified)}L("css for "+c.href+" generated in "+(new(Date)-a)+'ms');(d.remaining===0)&&L("css generated in "+(new(Date)-s)+'ms');a=new(Date)},r);D()};x.refreshStyles=D;x.refresh(x.env==='development');function D(){var s=document.getElementsByTagName('style');for(var i=0;i<s.length;i++){if(s[i].type.match(C)){new(x.Parser)().parse(s[i].innerHTML||'',function(e,y){var c=y.toCSS();var a=s[i];a.type='text/css';if(a.styleSheet){a.styleSheet.cssText=c}else{a.innerHTML=c}})}}}function E(c,r){for(var i=0;i<x.sheets.length;i++){F(x.sheets[i],c,r,x.sheets.length-(i+1))}}function F(s,c,r,a){var b=f.location.href.replace(/[#?].*$/,'');var h=s.href.replace(/\?.*$/,'');var d=A&&A.getItem(h);var t=A&&A.getItem(h+':timestamp');var g={css:d,timestamp:t};if(!/^(https?|file):/.test(h)){if(h.charAt(0)=="/"){h=f.location.protocol+"//"+f.location.host+h}else{h=b.slice(0,b.lastIndexOf('/')+1)+h}}var j=h.match(/([^\/]+)$/)[1];I(s.href,s.type,function(k,l){if(!r&&g&&l&&(new(Date)(l).valueOf()===new(Date)(g.timestamp).valueOf())){H(g.css,s);c(null,null,k,s,{local:true,remaining:a})}else{try{new(x.Parser)({optimization:x.optimization,paths:[h.replace(/[\w\.-]+$/,'')],mime:s.type,filename:j}).parse(k,function(e,m){if(e){return M(e,h)}try{c(e,m,k,s,{local:false,lastModified:l,remaining:a});K(document.getElementById('less-error-message:'+G(h)))}catch(e){M(e,h)}})}catch(e){M(e,h)}}},function(e,b){throw new(Error)("Couldn't load "+b+" ("+e+")")})}function G(h){return h.replace(/^[a-z]+:\/\/?[^\/]+/,'').replace(/^\//,'').replace(/\?.*$/,'').replace(/\.[^\.\/]+$/,'').replace(/[^\.\w-]+/g,'-').replace(/\./g,':')}function H(s,a,l){var c;var h=a.href?a.href.replace(/\?.*$/,''):'';var b='less:'+(a.title||G(h));if((c=document.getElementById(b))===null){c=document.createElement('style');c.type='text/css';c.media=a.media||'screen';c.id=b;document.getElementsByTagName('head')[0].appendChild(c)}if(c.styleSheet){try{c.styleSheet.cssText=s}catch(e){throw new(Error)("Couldn't reassign styleSheet.cssText.")}}else{(function(n){if(c.childNodes.length>0){if(c.firstChild.nodeValue!==n.nodeValue){c.replaceChild(n,c.firstChild)}}else{c.appendChild(n)}})(document.createTextNode(s))}if(l&&A){L('saving '+h+' to cache.');A.setItem(h,s);A.setItem(h+':timestamp',l)}}function I(a,t,c,e){var I=J();var b=z?false:x.async;if(typeof(I.overrideMimeType)==='function'){I.overrideMimeType('text/css')}I.open('GET',a,b);I.setRequestHeader('Accept',t||'text/x-less, text/css; q=0.9, */*; q=0.5');I.send(null);if(z){if(I.status===0||(I.status>=200&&I.status<300)){c(I.responseText)}else{e(I.status,a)}}else if(b){I.onreadystatechange=function(){if(I.readyState==4){h(I,c,e)}}}else{h(I,c,e)}function h(I,c,e){if(I.status>=200&&I.status<300){c(I.responseText,I.getResponseHeader("Last-Modified"))}else if(typeof(e)==='function'){e(I.status,a)}}}function J(){if(f.XMLHttpRequest){return new(XMLHttpRequest)}else{try{return new(ActiveXObject)("MSXML2.XMLHTTP.3.0")}catch(e){L("browser doesn't support AJAX.");return null}}}function K(n){return n&&n.parentNode.removeChild(n)}function L(s){if(x.env=='development'&&typeof(console)!=="undefined"){console.log('less: '+s)}}function M(e,h){var a='less-error-message:'+G(h);var t='<li><label>{line}</label><pre class="{class}">{content}</pre></li>';var b=document.createElement('div'),c,d,M=[];var g=e.filename||h;b.id=a;b.className="less-error-message";d='<h3>'+(e.message||'There is an error in your .less file')+'</h3>'+'<p>in <a href="'+g+'">'+g+"</a> ";var j=function(e,i,k){if(e.extract[i]){M.push(t.replace(/\{line\}/,parseInt(e.line)+(i-1)).replace(/\{class\}/,k).replace(/\{content\}/,e.extract[i]))}};if(e.stack){d+='<br/>'+e.stack.split('\n').slice(1).join('<br/>')}else if(e.extract){j(e,0,'');j(e,1,'line');j(e,2,'');d+='on line '+e.line+', column '+(e.column+1)+':</p>'+'<ul>'+M.join('')+'</ul>'}b.innerHTML=d;H(['.less-error-message ul, .less-error-message li {','list-style-type: none;','margin-right: 15px;','padding: 4px 0;','margin: 0;','}','.less-error-message label {','font-size: 12px;','margin-right: 15px;','padding: 4px 0;','color: #cc7777;','}','.less-error-message pre {','color: #dd6666;','padding: 4px 0;','margin: 0;','display: inline-block;','}','.less-error-message pre.line {','color: #ff0000;','}','.less-error-message h3 {','font-size: 20px;','font-weight: bold;','padding: 15px 0 5px 0;','margin: 0;','}','.less-error-message a {','color: #10a','}','.less-error-message .error {','color: red;','font-weight: bold;','padding-bottom: 2px;','border-bottom: 1px dashed red;','}'].join('\n'),{title:'error-message'});b.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(';');if(x.env=='development'){c=setInterval(function(){if(document.body){if(document.getElementById(a)){document.body.replaceChild(b,document.getElementById(a))}else{document.body.insertBefore(b,document.body.firstChild)}clearInterval(c)}},10)}}})(window);
